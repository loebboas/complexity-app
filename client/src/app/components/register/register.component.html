<mat-card>
  <mat-card-title>
    Welcome to the infinity Cloud...
  </mat-card-title>
  <mat-card-content>
    <mat-horizontal-stepper [linear]="true" #stepper="matHorizontalStepper">
      <mat-step [stepControl]="firstFormGroup">
        <form [formGroup]="firstFormGroup" (ngSubmit)="onRegisterSubmit()">
          <ng-template matStepLabel>Create a User</ng-template>
          <mat-form-field [ngClass]="{'has-error': (firstFormGroup.controls.username.errors && firstFormGroup.controls.username.dirty) || (!usernameValid && firstFormGroup.controls.username.dirty), 'has-success': !firstFormGroup.controls.username.errors && usernameValid}">
            <input matInput placeholder="Username" class="form-control" formControlName="username" (blur)="checkUsername()" required>
          </mat-form-field>
          <!-- Add Visualisation of User and Colorchooser Later -->
          <ul class="help-block">
            <li *ngIf="firstFormGroup.controls.username.errors?.required && firstFormGroup.controls.username.dirty">This field is required</li>
            <li *ngIf="firstFormGroup.controls.username.errors?.minlength && firstFormGroup.controls.username.dirty || firstFormGroup.controls.username.errors?.maxlength && firstFormGroup.controls.username.dirty ">Minimum characters: 3, Maximum characters: 15</li>
            <li *ngIf="firstFormGroup.controls.username.errors?.validateUsername && firstFormGroup.controls.username.dirty">Username must not have any special characters</li>
            <li *ngIf="usernameMessage">{{ usernameMessage }}</li>
          </ul>

          <mat-form-field [ngClass]="{'has-error': (firstFormGroup.controls.email.errors && firstFormGroup.controls.email.dirty) || (!emailValid && firstFormGroup.controls.email.dirty), 'has-success': !firstFormGroup.controls.email.errors && emailValid}">
            <input matInput placeholder="E-Mail" class="form-control" formControlName="email" formControlName="email" (blur)="checkEmail()"
              required>
          </mat-form-field>
          <ul class="help-block">
            <li *ngIf="firstFormGroup.controls.email.errors?.required && firstFormGroup.controls.email.dirty">This field is required</li>
            <li *ngIf="(firstFormGroup.controls.email.errors?.minlength && firstFormGroup.controls.email.dirty || firstFormGroup.controls.email.errors?.maxlength && firstFormGroup.controls.email.dirty ) && firstFormGroup.controls.email.dirty">Minimum characters: 5, Maximum characters: 30</li>
            <li *ngIf="firstFormGroup.controls.email.errors?.validateEmail && firstFormGroup.controls.email.dirty">This must be a valid e-mail</li>
            <li *ngIf="emailMessage">{{ emailMessage}}</li>
          </ul>
          <mat-form-field [ngClass]="{'has-error': (firstFormGroup.controls.password.errors && firstFormGroup.controls.password.dirty), 'has-success': !firstFormGroup.controls.password.errors}">
            <input type="password" matInput placeholder="Password" class="form-control" formControlName="password" required>
          </mat-form-field>
          <ul class="help-block">
            <li *ngIf="firstFormGroup.controls.password.errors?.required && firstFormGroup.controls.password.dirty">This field is required</li>
          </ul>
          <mat-form-field [ngClass]="{'has-error': (firstFormGroup.controls.confirm.errors && firstFormGroup.controls.confirm.dirty) || (firstFormGroup.errors?.matchingPasswords && firstFormGroup.controls.confirm.dirty), 'has-success': !firstFormGroup.controls.confirm.errors && !firstFormGroup.errors?.matchingPasswords}">
            <input type="password" matInput placeholder="Confirm Password" formControlName="confirm" required>
          </mat-form-field>
          <ul class="help-block">
            <li *ngIf="firstFormGroup.controls.confirm.errors?.required && firstFormGroup.controls.confirm.dirty">This field is required</li>
            <li *ngIf="firstFormGroup.errors?.matchingPasswords && firstFormGroup.controls.confirm.dirty">Password do not match</li>
          </ul>
          <div>
            <br>
            <button mat-raised-button color="primary" matStepperNext type="submit" value="Submit">Register</button>
          </div>
        </form>
      </mat-step>
      <mat-step [stepControl]="secondFormGroup">
      <ng-template matStepLabel>Tutorial I</ng-template>
      <p> We really planned to to a tutorial here, as well as other stuff we couldn't finish in time. But time is short. Here is the
        main idea:
      </p>
      <ul>
        <li>
         Welcome to our infinite cloud of Complexity: The Complexity App, which is basically an infinite complex network.
          Wherever you are in this network, you can create your own multidimensional Objects, which we call "Thoughts". 
        </li>
        <li>
          Thoughts can usually be found in the context <i>(or as the content)</i> of other Thoughts. Together, they constitute a theoretically infinite
          network of all kinds of information. 
        </li>
        <li>
        In reality though, our thoughts are much more complex. They are connected through several dimensions at the same time, which is obviously hard to imagine. 
        This is where our App comes in! ;)
        </li>
      </ul>

      <button mat-raised-button color="primary" matStepperNext type="submit" value="Submit">What's this App?</button>

      </mat-step>
      <mat-step [stepControl]="thirdFormGroup">
        <ng-template matStepLabel>Tutorial II</ng-template>
        <p> Our app lets you create infinite complex networks, without ever having to think more than few connections at a time. You can create your own thought-networks and add as many dimensions to each thought, as u want.  
          Our App takes care of the difficult calculations, and will let you navigate <i>with ease</i> trough really complex networks. Instead of trying to understand multidimensional networks, we let you navigate through different Dimensions, by creating your own perspectives.
          In short: </p>
        <mat-list>
          <mat-list-item>
            <button mat-button color="primary">Create</button>
            <button mat-button>Create New Thoughts and add as many Dimensions as you want.</button>
          </mat-list-item>
          <mat-list-item>
            <button mat-button color="primary">Visualise</button>
            <button mat-button>Play around with different Settings for your Perspectives, and see things from Angles you have never seen before.</button>
          </mat-list-item>
          <mat-list-item>
            <button mat-button color="primary">Much more to follow</button>
            <button mat-button>Work together with your friends, a better Design and a much better UserInterface to come!</button>
          </mat-list-item>
        </mat-list>
        <p> We would love to hear your feedback! Noah und Boas</p>
        <div>
          <br>
          <br>
          <button mat-raised-button matStepperNext color="primary" type="submit" (click)="onTutorialFinish()" value="Submit">Let's have a look!</button>
        </div>
      </mat-step>
    </mat-horizontal-stepper>
  </mat-card-content>
</mat-card>