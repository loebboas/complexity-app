<mat-card>
  <mat-card-title>
    Welcome to the infinity Cloud...
  </mat-card-title>
  <mat-card-content>
    <mat-horizontal-stepper [linear]="true" #stepper="matHorizontalStepper">
      <mat-step [stepControl]="firstFormGroup">
        <form [formGroup]="firstFormGroup" (ngSubmit)="onRegisterSubmit()">
          <ng-template matStepLabel>Create a User</ng-template>
          <mat-form-field [ngClass]="{'has-error': (firstFormGroup.controls.username.errors && firstFormGroup.controls.username.dirty) || (!usernameValid && firstFormGroup.controls.username.dirty), 'has-success': !firstFormGroup.controls.username.errors && usernameValid}">
            <input matInput placeholder="Username" class="form-control" formControlName="username" (blur)="checkUsername()" required>
          </mat-form-field>
          <!-- Add Visualisation of User and Colorchooser Later -->
          <ul class="help-block">
            <li *ngIf="firstFormGroup.controls.username.errors?.required && firstFormGroup.controls.username.dirty">This field is required</li>
            <li *ngIf="firstFormGroup.controls.username.errors?.minlength && firstFormGroup.controls.username.dirty || firstFormGroup.controls.username.errors?.maxlength && firstFormGroup.controls.username.dirty ">Minimum characters: 3, Maximum characters: 15</li>
            <li *ngIf="firstFormGroup.controls.username.errors?.validateUsername && firstFormGroup.controls.username.dirty">Username must not have any special characters</li>
            <li *ngIf="usernameMessage">{{ usernameMessage }}</li>
          </ul>

          <mat-form-field [ngClass]="{'has-error': (firstFormGroup.controls.email.errors && firstFormGroup.controls.email.dirty) || (!emailValid && firstFormGroup.controls.email.dirty), 'has-success': !firstFormGroup.controls.email.errors && emailValid}">
            <input matInput placeholder="E-Mail" class="form-control" formControlName="email" formControlName="email" (blur)="checkEmail()"
              required>
          </mat-form-field>
          <ul class="help-block">
            <li *ngIf="firstFormGroup.controls.email.errors?.required && firstFormGroup.controls.email.dirty">This field is required</li>
            <li *ngIf="(firstFormGroup.controls.email.errors?.minlength && firstFormGroup.controls.email.dirty || firstFormGroup.controls.email.errors?.maxlength && firstFormGroup.controls.email.dirty ) && firstFormGroup.controls.email.dirty">Minimum characters: 5, Maximum characters: 30</li>
            <li *ngIf="firstFormGroup.controls.email.errors?.validateEmail && firstFormGroup.controls.email.dirty">This must be a valid e-mail</li>
            <li *ngIf="emailMessage">{{ emailMessage}}</li>
          </ul>
          <mat-form-field [ngClass]="{'has-error': (firstFormGroup.controls.password.errors && firstFormGroup.controls.password.dirty), 'has-success': !firstFormGroup.controls.password.errors}">
            <input type="password" matInput placeholder="Password" class="form-control" formControlName="password" required>
          </mat-form-field>
          <ul class="help-block">
            <li *ngIf="firstFormGroup.controls.password.errors?.required && firstFormGroup.controls.password.dirty">This field is required</li>
          </ul>
          <mat-form-field [ngClass]="{'has-error': (firstFormGroup.controls.confirm.errors && firstFormGroup.controls.confirm.dirty) || (firstFormGroup.errors?.matchingPasswords && firstFormGroup.controls.confirm.dirty), 'has-success': !firstFormGroup.controls.confirm.errors && !firstFormGroup.errors?.matchingPasswords}">
            <input type="password" matInput placeholder="Confirm Password" formControlName="confirm" required>
          </mat-form-field>
          <ul class="help-block">
            <li *ngIf="firstFormGroup.controls.confirm.errors?.required && firstFormGroup.controls.confirm.dirty">This field is required</li>
            <li *ngIf="firstFormGroup.errors?.matchingPasswords && firstFormGroup.controls.confirm.dirty">Password do not match</li>
          </ul>
          <div>
            <br>
            <button mat-raised-button color="primary" matStepperNext type="submit" value="Submit">Register</button>
          </div>
        </form>
      </mat-step>
      <mat-step >
          <ng-template matStepLabel>Rooms</ng-template>
          <p>Now that you are a user, the complexity-App created your own Space in the infinity Cloud.</p>
          <br><p>By default, this space is open for everyone, so other Users can enter your Room and see its content.</p>
          <p>You can create multiple public Rooms and become a Member of certain ones.</p>
          <br><p>Most of your Thoughts thought are going to be thought inside of your user.</p>
          <p>Every user is capable of storing multiple Networks!</p>
          <br><p>Let's create your first Network!</p>
          
            <button mat-raised-button color="primary" matStepperNext type="submit" value="Submit">Create a Network!</button>
     
      </mat-step>
      <mat-step [stepControl]="thirdFormGroup">
        <form [formGroup]="thirdFormGroup" (ngSubmit)="onStarterNetworkSubmit()">
          <ng-template matStepLabel>Starter Set</ng-template>
            <p>We recommend you to start with an exmaple Network. It will show you the potential of the complexity-app!</p>
            <br><p>You can also start on a blank Node (for experienced Users, not yet implemented)</p>
            <p>The starter Set contains the following Nodes.</p>
          <mat-list>
            <mat-list-item>
              <button mat-button color="primary">Diary</button>
              <p>Write down your Memories and Feelings as complex networks. It Includes a timeline and specific feelings.</p>
            </mat-list-item>
            <mat-list-item>
              <button mat-button color="primary">Plans</button>
              <button mat-button>Create complex Projects and set Goals within your Timelines</button>
            </mat-list-item>
          </mat-list>
          <div>
            <br>
            <br>
            <button mat-raised-button matStepperNext color="primary" type="submit" value="Submit">Get started!</button>
          </div>
        </form>
      </mat-step>
    </mat-horizontal-stepper>
  </mat-card-content>
</mat-card>